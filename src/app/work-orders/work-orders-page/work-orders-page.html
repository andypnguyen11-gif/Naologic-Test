<div class="wo-page">
  <header class="wo-header">
    <div class="wo-title">
      <h1>Work Orders</h1>
    </div>
    <div class="wo-controls">
      <span class="wo-label">Timescale:</span>
      <ng-select
        class="wo-timescale-select"
        [items]="timescales"
        [ngModel]="selectedTimescale"
        (ngModelChange)="onTimescaleChange($event)"
        [clearable]="false"
        [searchable]="false"
        [ngModelOptions]="{ standalone: true }"
      />
    </div>
  </header>

  <app-timeline
    [timescaleLabel]="selectedTimescale"
    [workCenters]="workCenters"
    [workOrders]="workOrders"
    [timelineDates]="timelineDates"
    [timelineHeader]="timelineHeader"
    (createWorkOrder)="onCreateWorkOrder($event)"
    (editWorkOrder)="onEditWorkOrder($event)"
    (deleteWorkOrder)="onDeleteWorkOrder($event)"
  />

  <app-work-order-panel
    *ngIf="isPanelOpen"
    [open]="true"
    [mode]="panelMode"
    [order]="selectedOrder"
    [defaultStartDate]="pendingCreateStartDate"
    [saveError]="panelSaveError"
    (closePanel)="onClosePanel()"
    (saveOrder)="onSaveOrder($event)"
  />
</div>
